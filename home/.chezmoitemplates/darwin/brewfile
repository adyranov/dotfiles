{{ $taps := list
"homebrew/autoupdate"
"homebrew/bundle"
"homebrew/cask"
"homebrew/cask-fonts"
"homebrew/cask-versions"
"homebrew/command-not-found"
"homebrew/core"
-}}

{{ if .toolchains.extra -}}
{{ $taps = concat $taps (list "datreeio/datree") -}}
{{ end -}}

{{ $casks := list
"brave-browser"
"font-fira-code"
"rectangle"
"vlc"
"xnviewmp"
      -}}


{{ if .toolchains.kubernetes -}}
{{ $casks = concat $casks (list "lens") -}}
{{ end -}}

{{ if not .host.work -}}
{{ $casks = concat $casks (list
"authy"
"calibre"
"dropbox"
"google-drive"
"handbrake"
"iterm2"
"jetbrains-toolbox"
"macfuse"
"private-internet-access"
"skype"
"spotify"
"teamviewer"
"telegram-desktop"
"visual-studio-code"
"yandex-disk"
"zoom"
) -}}
{{ end -}}

{{ range ($taps | sortAlpha | uniq) -}}
tap "{{ . }}"
{{ end -}}
{{- includeTemplate "universal/packages-to-install" (dict "config" . "prefix" "brew \"" "suffix" "\"") }}

{{ range ($casks | sortAlpha | uniq) -}}
cask "{{ . }}"
{{ end -}}
{{ if and (not .host.headless) (not .host.work) -}}
mas "Brother iPrint&Scan", id: 1193539993
mas "Disk Speed Test", id: 425264550
mas "Messenger", id: 1480068668
mas "Slack", id: 803453959
mas "The Unarchiver", id: 425424353
{{ end -}}
